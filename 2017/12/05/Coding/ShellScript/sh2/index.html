<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>ShellScript(二) | Road to Coding</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">ShellScript(二)</h1><a id="logo" href="/.">Road to Coding</a><p class="description">只要那一抹笑容尚存，我便心无旁骛。</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">ShellScript(二)</h1><div class="post-meta">Dec 5, 2017<span> | </span><span class="category"><a href="/categories/ShellScript/">ShellScript</a></span></div><a class="disqus-comment-count" data-disqus-identifier="2017/12/05/Coding/ShellScript/sh2/" href="/2017/12/05/Coding/ShellScript/sh2/#disqus_thread"></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#shell中的变量"><span class="toc-number">1.</span> <span class="toc-text">shell中的变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#局部变量"><span class="toc-number">1.1.</span> <span class="toc-text">局部变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#环境变量"><span class="toc-number">1.2.</span> <span class="toc-text">环境变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#预设的环境变量"><span class="toc-number">2.</span> <span class="toc-text">预设的环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量的操作"><span class="toc-number">3.</span> <span class="toc-text">变量的操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组-Array"><span class="toc-number">4.</span> <span class="toc-text">数组(Array)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#只读变量"><span class="toc-number">5.</span> <span class="toc-text">只读变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量的作用域"><span class="toc-number">6.</span> <span class="toc-text">变量的作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#转义和引用"><span class="toc-number">7.</span> <span class="toc-text">转义和引用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#运算符"><span class="toc-number">8.</span> <span class="toc-text">运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他的算术运算符"><span class="toc-number">9.</span> <span class="toc-text">其他的算术运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#算术扩展"><span class="toc-number">10.</span> <span class="toc-text">算术扩展</span></a></li></ol></div></div><div class="post-content"><p><em>开始学shell挺有意思的,弱类型的语言再也没有写C的时候,那么多繁文缛节了,真特么爽,不过有爽的地方</em></p>
<p><em>就有扣脚的地方…</em></p>
<h2 id="shell中的变量"><a href="#shell中的变量" class="headerlink" title="shell中的变量"></a>shell中的变量</h2><p>首先,shell中的变量分为两类,<strong>局部变量和环境变量(全局变量)</strong></p>
<h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><p>是每一个shell中可以使用的变量,在不同的shell中,是不能进行使用的</p>
<p>那么,如何界定一个shell呢?</p>
<p><strong>bash shell是根据进程号进行界定的,对于每一个进程号,视为一个shell</strong></p>
<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><p>在学习Bash中提到过,环境变量,就是指在父shell以下的shell中都可以使用的变量</p>
<p><strong>shell的环境变量是传下不传上,即向下的子shell,孙shell都可以继承该环境变量</strong></p>
<p><strong>而向上,父shell的父shell是不能使用的.</strong></p>
<p><strong>来举个实际的例子,Linux操作系统,登录时就是一个shell.</strong></p>
<p><strong>所以在他下面的所有子/孙shell的都可以继承环境变量</strong></p>
<h2 id="预设的环境变量"><a href="#预设的环境变量" class="headerlink" title="预设的环境变量"></a>预设的环境变量</h2><p>在shell中还预设了许多环境变量,这些变量可以直接使用,在shell脚本或者console交互界面</p>
<p><strong>想让我给你详解吗,做梦,自己看去,</strong></p>
<h2 id="变量的操作"><a href="#变量的操作" class="headerlink" title="变量的操作"></a>变量的操作</h2><p>在shellscript中,变量的赋值,取值与C中还是有与很大的不同的</p>
<p><strong>1. 定义变量</strong></p>
<p>不需要进行类型的声明,弱类型,直接 “变量名=变量值”即可</p>
<p>注意,变量名与值之间仅仅相连,不允许有空格</p>
<p>当变量值中需要空格的时候,使用单/双引号括起来,不然会出现错误</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Crow@EvilCrow ~]$ var=5</span><br><span class="line">[Crow@EvilCrow ~]$ <span class="built_in">echo</span> <span class="variable">$var</span></span><br><span class="line">5</span><br><span class="line">[Crow@EvilCrow ~]$ var = 6</span><br><span class="line">bash: var: <span class="built_in">command</span> not found</span><br></pre></td></tr></table></figure>
<p><strong>2. 变量取值</strong></p>
<p>使用变量的值的时候,可以使用 <strong>“$变量名”</strong>,进行值的获取</p>
<p>严谨一点的写法: <strong>${变量名}</strong></p>
<p>看下面的例子:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[Crow@EvilCrow ~]$ var=Crow</span><br><span class="line">[Crow@EvilCrow ~]$ <span class="built_in">echo</span> Crow</span><br><span class="line">Crow</span><br><span class="line">[Crow@EvilCrow ~]$ <span class="built_in">echo</span> <span class="variable">$varhello</span>           --bash将varhello视为一个变量</span><br><span class="line"></span><br><span class="line">[Crow@EvilCrow ~]$ <span class="built_in">echo</span> <span class="variable">$&#123;var&#125;</span>hello         --bash可以识别var为变量,并非是varhello</span><br><span class="line">Crowhello</span><br></pre></td></tr></table></figure>
<p>同时,如果需要引用其他变量,必须使用<strong>部分引用(弱引用)” “</strong>  如果使用<strong>强引用 ‘ ‘ </strong></p>
<p>则并不会进行变量的引用,会将一切视为普通字符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[Crow@EvilCrow ~]$ var=5</span><br><span class="line">[Crow@EvilCrow ~]$ str=<span class="string">"<span class="variable">$var</span>"</span></span><br><span class="line">[Crow@EvilCrow ~]$ <span class="built_in">echo</span> <span class="variable">$str</span></span><br><span class="line">5</span><br><span class="line">[Crow@EvilCrow ~]$ str=<span class="string">'$var'</span></span><br><span class="line">[Crow@EvilCrow ~]$ <span class="built_in">echo</span> <span class="variable">$str</span></span><br><span class="line"><span class="variable">$var</span></span><br></pre></td></tr></table></figure>
<p><strong>3.取消变量</strong></p>
<p>变量,可以设置,但是有的时候,我们就是想取消变量,那怎么办呢?</p>
<p><strong>使用unset命令可以取消命令,也可以取消函数</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">declare</span> var</span><br><span class="line">var=5</span><br><span class="line"></span><br><span class="line">func_1()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"In func_1"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"var = <span class="variable">$var</span>"</span></span><br><span class="line">func_1</span><br><span class="line"><span class="built_in">unset</span> var</span><br><span class="line"><span class="built_in">unset</span> func_1</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"After unset"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"var = <span class="variable">$var</span>"</span></span><br><span class="line">func_1</span><br></pre></td></tr></table></figure>
<p><img src="http://oww4cv296.bkt.clouddn.com/Screenshot_20171205_222229.png" alt=""></p>
<p><strong>4. 特殊变量</strong></p>
<p>常用的特殊变量有以下两类:</p>
<p><strong>位置变量: $0,$1,$2,$3,$#,$@,$*</strong> ,之前已经提过,不再赘述</p>
<p><strong>脚本/命令的返回值: $?  ,仅能表示上一个命令的返回值,成功为0,反之为非0</strong></p>
<h2 id="数组-Array"><a href="#数组-Array" class="headerlink" title="数组(Array)"></a>数组(Array)</h2><p>数组,一直是个神奇的东西,很多语言都对其支持,而且合理使用数组,可以方便进行程序设计</p>
<p>在shellscript中数组,虽然没有其他地方强大,不过也差不到哪里去</p>
<p><strong>首先,看看与其他语言数组的不同之处:</strong></p>
<p><strong>1&gt; 区别于C/C++/Java这些编译型语言,sh为弱类型,所以,数组的元素是不会考虑类型的</strong></p>
<p><strong>2&gt; 在大多数语言中,都是支持高维数组的,但是,sh中仅仅支持到一维数组</strong></p>
<p><strong>1.定义数组</strong></p>
<p>定义数组很简单</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">declare</span> -a array      --即定义了一个数组</span><br><span class="line"></span><br><span class="line">array[0]=0            --对数组中元素进行赋值</span><br><span class="line">array[1]=1</span><br></pre></td></tr></table></figure>
<p>数组使用起来还是比较像其他语言的,同时可以使用<strong>下标</strong>进行访问</p>
<p>同时,声明数组,也可以不使用declare关键字,不过就需要声明的同时进行初始化</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">declare</span> -a name=(<span class="string">"Crow"</span> <span class="string">"Sue"</span>)</span><br><span class="line">name=(<span class="string">"Crow"</span> <span class="string">"Sue"</span>)</span><br></pre></td></tr></table></figure>
<p>sh中进行数组元素的增加是很简单的,声明数组后,进行赋值即可</p>
<p><strong>未定义的下标,可以直接使用进行赋值</strong></p>
<p><strong>sh中数组用空格进行元素得分隔,不是使用逗号</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">declare</span> -a array=(1 2)</span><br><span class="line"></span><br><span class="line">array[2]=3</span><br><span class="line">array[4]=6</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;array[*]&#125;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://oww4cv296.bkt.clouddn.com/Screenshot_20171205_235138.png" alt=""></p>
<p><strong>2.数组操作</strong></p>
<p>数组操作,在以往的语言中,都是基于函数,方法来进行操作的,毕竟OOP</p>
<p>但是,在sh中会带给你一种全新的方式进行数组的操作</p>
<p><strong>1&gt; 数组取值操作</strong></p>
<p>数组进行取值时,直接使用下标,<strong>*进行索引取值即可</strong>,即 <strong> $ { 数组名 [ 索引 ] } </strong></p>
<p>同时,@,* 进行整个数组元素的索引方式,还是可以用的,</p>
<p>比如: <strong>${array[@]} ,${array[*]}</strong></p>
<p>不过,使用@,元素时列表的形式,但是,使用*,元素是字符串的形式</p>
<p><strong>2&gt; 求取数组的长度</strong></p>
<p>在C中使用strlen( )函数</p>
<p>在Ruby中使用String.length方法获取字符串长度</p>
<p>在sh中使用 类似于VimScript的方式,进行数组的操作</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;#array[@]&#125;</span>,<span class="variable">$&#123;#array[*]&#125;</span>,即可获取到数组的长度</span><br><span class="line"></span><br><span class="line">使用,(下标为N),<span class="variable">$&#123;#array[N]&#125;</span>,获取字符串的长度</span><br></pre></td></tr></table></figure>
<p><strong>3&gt; 数组截取</strong></p>
<p>数组,还可以截取吗?</p>
<p><strong>答案是肯定的</strong></p>
<p>数组进行截取的时候,遵循这样的操作规范</p>
<p>${array[X]:m:n}:　　ｍ表示下标/索引/index</p>
<p><strong>当Ｘ = */@ 时，表示，截取到从ｍ个元素开始的ｎ个元素</strong></p>
<p><strong>反之，表示，截取Ｘ元素从ｍ开始的ｎ个字符</strong></p>
<p><strong>这里，切不可理解为ｍ～ｎ个字符</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var=<span class="string">"helloworld"</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#var&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var:0:2&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var:5:2&#125;</span></span><br><span class="line">var=(<span class="string">'Crow'</span> <span class="string">'Sue'</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var[@]:0:2&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var[@]:0:1&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var[@]:1:1&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var[1]:1:1&#125;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://oww4cv296.bkt.clouddn.com/Screenshot_20171206_000836.png" alt=""></p>
<p><strong>４&gt; 连接数组(拼接数组)</strong></p>
<p>在其他语言中,合并数组,需要重新分配内存,使用for循环进行赋值,很是麻烦</p>
<p>在sh中,如下即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name=(<span class="string">"Crow"</span> <span class="string">"Sue"</span>)</span><br><span class="line">address=(<span class="string">"Xi'an"</span> <span class="string">"Shanghai"</span>)</span><br><span class="line">other=(<span class="variable">$&#123;name[@]&#125;</span> <span class="variable">$&#123;address[@]&#125;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;other[@]&#125;</span>    <span class="comment">#=&gt; Crow Sue Xi'an Shanghai</span></span><br></pre></td></tr></table></figure>
<p>所以,很是方便吧?</p>
<p><strong>5&gt; 替换元素</strong></p>
<p>即改变数组中某个元素的值</p>
<p>讲道理,其实,直接进行赋值即可,但是,sh提供的方法,姑且看看吧.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array=(<span class="variable">$&#123;array[@]/Crow/Evil&#125;</span>)</span><br></pre></td></tr></table></figure>
<p>即在数组全局中进行替换,这个特性,我不是很苟同</p>
<p><strong>6&gt; 取消数组/元素</strong></p>
<p>同上理,使用unset可以取消,数组,变量,函数,全部可以取消</p>
<h2 id="只读变量"><a href="#只读变量" class="headerlink" title="只读变量"></a>只读变量</h2><p>这一部分也是很简单的</p>
<p>用法:将变量声明为只读属性,变成常量,避免滥用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">declare</span> -r a=5       --a,已经具有<span class="built_in">readonly</span>属性</span><br></pre></td></tr></table></figure>
<p>更简单地理解方式,const变量,,,</p>
<h2 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h2><p>这一部分内容,其实之前也是提到了很多次</p>
<p>作用域,即变量的有效作用范围,可以使用,被声明,被分配内存,可以访问的区域</p>
<p>在sh中,默认是全局变量(环境变量),<strong>这个全局指的是,这一个shell</strong></p>
<p><strong>在交互界面,就是这一个终端窗口,在脚本里,就是这一个脚本文件,都是有效范围</strong></p>
<p><strong>而C,是作为auto属性的自动变量,一般是函数中的局部变量,无链接</strong></p>
<p><strong>sh中的环境变量,有好有坏,进行程序设计时,各个函数间传参数很方便,很容易操纵,但同时</strong></p>
<p><strong>也有不小的弊端,,比如一些基本的临时变量,循环变量,这些i,j,k,如果进行模块化的开发</strong></p>
<p><strong>十分危险! ! !</strong></p>
<p>有以下两种方法进行处理:</p>
<p>1.进行变量命名时,谨慎命名,命名为不易重复,含义明确的变量名</p>
<p>2.<strong>使用local命令,可以使变量的作用域局限在函数内部</strong></p>
<p>看下面这个例子:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">declare</span> var</span><br><span class="line">var=5</span><br><span class="line">func_1()</span><br><span class="line">&#123;</span><br><span class="line">    var=6</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"var = <span class="variable">$var</span> in func_1"</span></span><br><span class="line">&#125;</span><br><span class="line">func_2()</span><br><span class="line">&#123;</span><br><span class="line">    var=8</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"var = <span class="variable">$var</span> in func_2"</span></span><br><span class="line">&#125;</span><br><span class="line">func_3()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">local</span> var=1000</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"local var = <span class="variable">$var</span> in func_3"</span></span><br><span class="line">&#125;</span><br><span class="line">func_1 </span><br><span class="line">func_2 </span><br><span class="line">func_3</span><br></pre></td></tr></table></figure>
<p><img src="http://oww4cv296.bkt.clouddn.com/Screenshot_20171206_002834.png" alt=""></p>
<h2 id="转义和引用"><a href="#转义和引用" class="headerlink" title="转义和引用"></a>转义和引用</h2><p>其实转义和引用两个概念,我们平时已经很习惯的用了.</p>
<p><strong>转义: </strong> 因为一些预留的元字符,不能做为普通字符使用,所以进行转义,转义方法,就是使用 “ \ “</p>
<p><strong>引用: </strong> 引用是很常用的方法,转义时特殊的引用.</p>
<p><strong>在sh中,引用,时为了防止字符串被解释为其他含义,常用的引用,双引号,单引号,反引号,反斜杠</strong></p>
<p><strong>1.双引号为部分引用</strong></p>
<p>双引号,除了 $,`,\ 这是那种字符以外,都会被解释为普通字符</p>
<p><strong>2.单引号为强引用</strong></p>
<p>单引号,可以将一切解释为普通字符,但是单引号,最大的问题是,<strong>单引号,不能嵌套,否则会报错</strong></p>
<p><strong>3.反引号为命令替换</strong></p>
<p><strong>命令替换时十分重要的东西</strong></p>
<p>命令替换,有什么用呢?</p>
<p><strong>命令替换,可以将命令的结果保存至变量中,使用反引号即可,经常使用</strong></p>
<p>同时,还另外一种命令替换 <strong> “ $ ( ) “ </strong></p>
<p><strong>区别:反引号不清晰,且不能嵌套,所以建议使用$()的形式</strong></p>
<p>同时,需要注意的一点:</p>
<p><strong>在命令替换后,变量中保存的标准输出是没有换行符的,需要引用才能合理的显示</strong></p>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>作为一门编程语言,怎么能少的了处理数据的内容呢?</p>
<p>sh中运算符,主要用于比较整数.所以这些运算符,也是以处理整数的运算为主</p>
<p>运算符,不多赘述,位运算符同理</p>
<p><strong>sh中算术运算时基于let命令的</strong></p>
<p><strong>而且,一般情况下,运算符,数字是要紧紧相连的</strong></p>
<p><strong>要是不会,就是你特喵的C没学好,自己想办法补</strong></p>
<h2 id="其他的算术运算符"><a href="#其他的算术运算符" class="headerlink" title="其他的算术运算符"></a>其他的算术运算符</h2><p><strong>1. 使用 $ [ ] </strong></p>
<p>$ [ ] 可以进行简单的算术运算</p>
<p>$ [ 1 + 1 ], $ [ 3 / 2 ]</p>
<p><strong>2. 使用expr</strong></p>
<p>expr时shell命令,可以进行算术运算,<strong>但是,运算符,数字不能紧紧相连的</strong></p>
<p>否则会视为,字符串</p>
<p><strong>3. 使用内建命令 declare</strong></p>
<p>很多次看见这个命令了,同时它还可以进行算术运算</p>
<p>declare进行算术运算,其实是显示声明变量为整数, -i参数</p>
<p><strong>还是要,紧紧相连,同时引用的变量不需要$,至直接使用</strong></p>
<h2 id="算术扩展"><a href="#算术扩展" class="headerlink" title="算术扩展"></a>算术扩展</h2><p><strong>1. $ ( ( ) )</strong></p>
<p>使用算术扩展符,<strong>可以进行变量和运算符的结合运算,不需要使用declare -i 声明</strong></p>
<p>同时,如若其中的变量未初始化,则会将其视为0对待,但是,并不会真的赋值0</p>
<p><img src="http://oww4cv296.bkt.clouddn.com/Screenshot_20171206_010423.png" alt=""></p>
<p><strong>2. 使用bc运算</strong></p>
<p>自行查看man文档,,(可以进行浮点运算的呦!)</p>
<hr>
<p>我是华丽的分割线</p>
<hr>
<p>分享在写Markdown时,千万不要 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;#array[@]&#125;</span>,  <span class="variable">$&#123;#array[N]&#125;</span></span><br></pre></td></tr></table></figure>
<p>这样的东西写在文本里,不然会把你逼疯得</p>
<p><strong>转义,不存在的 !</strong></p>
<p>December 6, 2017 1:06 AM</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a class="article-share-link" data-url="http://evil-crow.github.io/2017/12/05/Coding/ShellScript/sh2/" data-id="cjosm4517001ka6nrchhyiqcw" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACI0lEQVR42u3aS26EMBAFQO5/6ckBoiHvtUEKpliNIsAuFp3++Dji63N65ff/vufbU8cdFwYGxmMZyRbPt3KOOV+r/fvXFTEwMF7AON9EEgQTZBJSk3UxMDAwzl+XB+X8Q7RPYWBgYLSM5GqrUQwMDIxZEZv3u5KmW1s8X1aLY2BgPJCxEgTv/n3LfAMDA+NRjFl6l4wk8/B9QdKJgYGxNWOW9iWA9vjFehqKgYHxHkZbviabbpPOduSJgYHxBkY7gMxf2rbP2qD8R+8QAwNjO0Z760ohmgfoWbjHwMDYm9H23tsl8zFk/pkwMDD2ZiRFY5uo5aF2ZfXjqhdhYGA8hJGUqbNWfj5CWEFiYGDszchfNxsktEnk0psxMDC2ZuRFbJIszpp0ebAeAjAwMLZjtIPMlWFA+xGXvj0GBsYDGbMY3B68aIvVdjyAgYGxN6NNAZMWWLv8ylh0mMliYGA8kNEOLNvN5Y28tiWHgYHxNkbe3moBbWie3YOBgfFmxrUBNE8x84+IgYHxNkay3XZb7QGyYYmLgYHxAsZ6Ebsy8pw1BG+pxTEwMP4Z41Ne7WLJszcmhRgYGFsw1rfVbnTlcEa7LgYGxk6M/FBFkqjlz84+WfEYBgbGdow88K0sOdxisisMDAyMG4rM82SxHZFiYGBgzAJi+wnyI2Vfi1gMDIytGe3hifzQWL7FdmiKgYHxHsZS6ThquiVJ4bX/BjAwMB7L+AFmewPxoOCEGwAAAABJRU5ErkJggg==">分享</a><div class="tags"><a href="/tags/ShellScript/">ShellScript</a></div><div class="post-nav"><a class="pre" href="/2017/12/05/Question_Answer/Coding/ShellScript/sh2/">ShellScript(二)</a><a class="next" href="/2017/12/05/Question_Answer/Coding/ShellScript/sh1/">ShellScript(一)</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://evil-crow.github.io/2017/12/05/Coding/ShellScript/sh2/';
    this.page.identifier = '2017/12/05/Coding/ShellScript/sh2/';
    this.page.title = 'ShellScript(二)';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//Evilcrow.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//Evilcrow.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://Evilcrow.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Assembly/">Assembly</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Bible/">Bible</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-C/">C/C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Documents/">Documents</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Guide/">Guide</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Q-A/">Q&A</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/">Ruby</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/">SQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ShellScript/">ShellScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Unix-Linux/">Unix/Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Unix-Linux/Guide/">Guide</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vim/">Vim</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Syscall/" style="font-size: 15px;">Syscall</a> <a href="/tags/CodeStyle/" style="font-size: 15px;">CodeStyle</a> <a href="/tags/Assembly/" style="font-size: 15px;">Assembly</a> <a href="/tags/Ruby/" style="font-size: 15px;">Ruby</a> <a href="/tags/CSAPP/" style="font-size: 15px;">CSAPP</a> <a href="/tags/ShellScript/" style="font-size: 15px;">ShellScript</a> <a href="/tags/EffectiveSTL/" style="font-size: 15px;">EffectiveSTL</a> <a href="/tags/VimScript/" style="font-size: 15px;">VimScript</a> <a href="/tags/EffectiveC/" style="font-size: 15px;">EffectiveC++</a> <a href="/tags/GDB/" style="font-size: 15px;">GDB</a> <a href="/tags/Binuntils/" style="font-size: 15px;">Binuntils</a> <a href="/tags/vbird/" style="font-size: 15px;">vbird</a> <a href="/tags/RegExpression/" style="font-size: 15px;">RegExpression</a> <a href="/tags/LinuxC/" style="font-size: 15px;">LinuxC</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/Expert-C-Programming/" style="font-size: 15px;">Expert_C_Programming</a> <a href="/tags/CTrapsAndPitfalls/" style="font-size: 15px;">CTrapsAndPitfalls</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/11/21/Question_Answer/Coding/C/Expert_C_Programming/data_mem/"><咸鱼书> 运行时数据结构与内存</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/08/Coding/EffSTL/containers/"><STL> Containers</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/08/Question_Answer/Coding/EffSTL/containers/"><STL> Containers</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/09/Question_Answer/Coding/EffC++/implementations/"><星月夜> Implementations</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/09/Coding/EffC++/implementations/"><星月夜> Implementations</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/27/Coding/C/Expert_C_Programming/data_mem/"><咸鱼书> 运行时数据结构与内存</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/26/Coding/EffC++/designs_and_declarations/"><星月夜> Designs and Declarations</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/26/Question_Answer/Coding/EffC++/designs_and_declarations/"><星月夜> Designs and Declarations</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/19/Question_Answer/Coding/EffC++/resource_management/"><星月夜> Resource Management</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/19/Coding/EffC++/resource_management/"><星月夜> Resource Management</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//Evilcrow.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Road to Coding.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>