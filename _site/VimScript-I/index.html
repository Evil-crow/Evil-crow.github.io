<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/github.min.css"> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script> <script>hljs.initHighlightingOnLoad();</script> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>VimScript的学习(一) &#8211; Road to Coding</title> <meta name="description" content="只要那一抹笑容尚存, 我便心无旁骛"> <meta name="keywords" content="VimScript"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://localhost:4000/assets/img/logo.png"> <meta name="twitter:title" content="VimScript的学习(一)"> <meta name="twitter:description" content="因为对Vim配置的十分着迷,已经完全不能自拔,所以决定进行VimScript的学习,特此进行记录"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="VimScript的学习(一)"> <meta property="og:description" content="因为对Vim配置的十分着迷,已经完全不能自拔,所以决定进行VimScript的学习,特此进行记录"> <meta property="og:url" content="http://localhost:4000/VimScript-I/"> <meta property="og:site_name" content="Road to Coding"> <meta property="og:image" content="http://localhost:4000/assets/img/logo.png"> <link rel="canonical" href="http://localhost:4000/VimScript-I/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Road to Coding Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://localhost:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(http://localhost:4000/assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://localhost:4000/assets/img/logo.png" alt="Road to Coding photo" class="author-photo"> <h4>Road to Coding</h4> <p>只要那一抹笑容尚存, 我便心无旁骛</p> </li> <li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:evilcrow486@gmail.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://github.com/Evil-crow" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://localhost:4000/posts/">All Posts</a></li> <li><a href="http://localhost:4000/tags/">All Tags</a></li> </ul> </li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn" style="background-color:rgba(255,255,255,0.97);"> <div class="content"> <div class="post-title "> <h1>VimScript的学习(一)</h1> <h4>17 Oct 2017</h4> <a class="btn zoombtn" href="http://localhost:4000/posts/"> <i class="fa fa-chevron-left"></i> </a> </div> <h2 id="备注">备注:</h2> <hr /> <p>VimScript是一门十分小众的语言,基本上只能用于Vim配置的书写以及Vim插件的开发</p> <p>其只能写入.vimrc中生效</p> <p><strong>写在前面,VimScript中,=左右不要预留空格,C语言的风格会使VimScript的语法出错</strong></p> <p><strong>Vim的命令是在vim中及vimrc中可以通用的</strong></p> <p><strong>vimrc中的命令,是不需要加上:的,而且有些vim的命令是与shell命令相同的.在vim中使用的命令记得加上:,不然是无法输入的</strong></p> <h2 id="1-打印信息">1. 打印信息:</h2> <p><code class="highlighter-rouge">:echo</code> 显示信息</p> <p><code class="highlighter-rouge">:echom(sg)</code> 同样显示信息,但是会将信息保存,可以调用:message显示</p> <p><code class="highlighter-rouge">:message</code> 显示那些保存的信息</p> <h2 id="2-注释">2. 注释:</h2> <p>使用 <code class="highlighter-rouge">" </code> 进行注释 (本句话已经变成一条注释了),同理其他脚本语言,到行尾都是注释</p> <h2 id="3-设置选项">3. 设置选项:</h2> <p>主要依靠<strong>布尔选项</strong>以及<strong>键值选项</strong></p> <ul> <li><strong>布尔选项</strong></li> </ul> <p>举个例子: number选项为布尔选项,可以on也可以off</p> <p><code class="highlighter-rouge">:set number</code> 命令打开(on)</p> <p><code class="highlighter-rouge">:set nonumber</code> 命令关闭(off)</p> <p>所有的布尔选项都是这样使用</p> <p><code class="highlighter-rouge">:set &lt;name&gt;</code> 打开选项</p> <p><code class="highlighter-rouge">:set no&lt;name&gt;</code> 关闭选项</p> <ul> <li><strong>切换布尔选项</strong></li> </ul> <p>在布尔选项后面添加”!”即可实现对布尔选项的切换</p> <p><code class="highlighter-rouge">:set number!</code> 打开-&gt;关闭/关闭-&gt;打开</p> <ul> <li><strong>查看选项当前值</strong></li> </ul> <p>之前提到布尔选项,那么如何查看当前布尔选项的值.</p> <p><code class="highlighter-rouge">:set number?</code> 即可查看当前的选项值</p> <ul> <li><strong>键值选项</strong></li> </ul> <p>有的选项并不是仅仅只有on/off两个值,还存在其他的值,这个时候就需要进行值的设定了</p> <p>比如:行号的列宽</p> <p><code class="highlighter-rouge">:set numberwidth = 10</code></p> <p><code class="highlighter-rouge">:set numberwidth = 8</code></p> <p>上面的例子,都是使用</p> <p>键值来进行选项的设定</p> <p><code class="highlighter-rouge">:set &lt;name&gt;=&lt;value&gt;</code></p> <p>可以进行布尔选项内容的切换</p> <ul> <li><strong>一次性进行多个选项的设定</strong></li> </ul> <p>VimScript是支持一次性设置多个选项的</p> <p>举个例子:</p> <p>同时设置行号选项与行号宽度</p> <p><code class="highlighter-rouge">:set number numberwidth=4</code></p> <p>交换顺序也是可以的</p> <h2 id="4键盘映射">4.键盘映射</h2> <p>如果说VimScript可以进行自己个性化的Vim设置,那就非<strong>键盘映射</strong>莫属了,这真TM是个神奇的功能</p> <p>键盘映射:<strong>按下这个键的时候,放弃默认操作,执行我指定的操作</strong></p> <ul> <li><strong>基本映射(normal模式)</strong></li> </ul> <p>简单的语法:</p> <p><code class="highlighter-rouge">map 键 想要映射的功能</code></p> <p>举个例子:</p> <p><code class="highlighter-rouge">map - dd</code> - 可以进行整行内容的删除</p> <ul> <li><strong>特殊字符的映射</strong></li> </ul> <p>不仅可以映射简单地字符,还可以进行特殊按键的映射,即组合键,十分方便</p> <p>语法:</p> <p><code class="highlighter-rouge">map &lt;keyname&gt; 映射的功能</code></p> <p>举个例子:</p> <p><code class="highlighter-rouge">map &lt;space&gt; viw</code></p> <p>同时可以使用Ctrl以及Alt作为映射键</p> <p><strong>但是注意,只能写&lt;c-?&gt; 或者 &lt;a-?&gt;进行映射,完整的ctrl/alt名称是不能进行映射的</strong></p> <p>建议映射的键:</p> <p><strong>&lt; F2 &gt; - &lt; F 12 &gt;</strong></p> <p><strong>shift + ? &lt;s-?&gt;</strong></p> <p>之后进行的映射会刷新之前的映射</p> <p>同时,映射可以连接起来使用</p> <p><code class="highlighter-rouge">map - ddp</code>可以实现将本行粘贴在下一行的功能<code class="highlighter-rouge">map</code>在任何模式都通用</p> <p><code class="highlighter-rouge">nmap imap vmap</code> 分别对应在normal,insert,visusal三种模式下指定的映射</p> <p>在normal以及visusal模式下的映射正如上面所讲</p> <p><strong>insert模式的映射就比较特殊了,需要特殊对待</strong></p> <p>因为insert比较特殊,例如要进行删除当前行,输入<c-d>却只能输入两个d字符</c-d></p> <p>所以要借助,<esc>的功能</esc></p> <p><code class="highlighter-rouge">imap &lt;c-d&gt; &lt;esc&gt;dd</code></p> <p>对于此映射还可以加强,即最后需要回到本模式</p> <p><code class="highlighter-rouge">imap &lt;c-d&gt; &lt;esc&gt;ddi</code></p> <p>最后的i字符说明回到insert模式</p> <ul> <li><strong>精确映射</strong></li> </ul> <p>在VimScript的映射中,会出现递归的问题</p> <p>很可怕,可能你的映射会被解释为其他的映射</p> <p>这个时候,精确的映射就很重要了</p> <p>那么如何解决递归映射的问题呢?</p> <p>使用<code class="highlighter-rouge">*noremap*</code>系列映射</p> <p><code class="highlighter-rouge">noremap nnoremap</code>,<code class="highlighter-rouge">inoremap</code>,<code class="highlighter-rouge">vnoremap</code>,</p> <p>这四种便是映射的非递归版本,</p> <p>什么时候使用呢?</p> <p><strong>任何时候,没错,任何时候</strong></p> <ul> <li><strong>前缀映射</strong></li> </ul> <p>映射一般都选用不常用的键,但是你不常用的键并不多,难道Vim的可定制化传说是骗人的?</p> <p>并不是,可以使用前缀映射</p> <p><code class="highlighter-rouge">nmap -d dd</code></p> <p>可以实现按两个键完成dd的映射</p> <p>但是,这么多前缀改着不累吗?</p> <p>所以,我们采用设置leaders的方式进行定义</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let mapleader = "leader"
*map &lt;leader&gt;***   映射的功能
</code></pre></div></div> <p>使用 &lt; leader &gt; 的作用,不用我多说,你也明白,不是吗?</p> <p>同理还可以使用localleader,会在之后进行详解</p> <p><strong>下次会有更为有趣的内容</strong></p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://localhost:4000/tags/#VimScript" title="Pages tagged VimScript" class="tag"><span class="term">VimScript</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/VimScript-I/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/VimScript-I/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://localhost:4000/VimScript-I/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> </header> <!-- JS --> <script src="http://localhost:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.goup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://localhost:4000/assets/js/scripts.js"></script> <script type="text/javascript"> var disqus_shortname = 'Evilcrow'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
