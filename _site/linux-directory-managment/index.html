<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/github.min.css"> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script> <script>hljs.initHighlightingOnLoad();</script> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>第九篇 Linux文件与目录管理(下) &#8211; Road to Coding</title> <meta name="description" content="只要那一抹笑容尚存, 我便心无旁骛"> <meta name="keywords" content="vbird"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://localhost:4000/assets/img/logo.png"> <meta name="twitter:title" content="第九篇 Linux文件与目录管理(下)"> <meta name="twitter:description" content="上一篇提到了LInux系统下文件/目录的基本操作,新建,移动,拷贝,删除.以及对于文件的各种形式的查看那么这一篇所要谈到的就是,文件/目录的隐藏属性以及文件/目录的查询操作"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="第九篇 Linux文件与目录管理(下)"> <meta property="og:description" content="上一篇提到了LInux系统下文件/目录的基本操作,新建,移动,拷贝,删除.以及对于文件的各种形式的查看那么这一篇所要谈到的就是,文件/目录的隐藏属性以及文件/目录的查询操作"> <meta property="og:url" content="http://localhost:4000/linux-directory-managment/"> <meta property="og:site_name" content="Road to Coding"> <meta property="og:image" content="http://localhost:4000/assets/img/logo.png"> <link rel="canonical" href="http://localhost:4000/linux-directory-managment/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Road to Coding Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://localhost:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(http://localhost:4000/assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://localhost:4000/assets/img/logo.png" alt="Road to Coding photo" class="author-photo"> <h4>Road to Coding</h4> <p>只要那一抹笑容尚存, 我便心无旁骛</p> </li> <li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:evilcrow486@gmail.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://github.com/Evil-crow" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://localhost:4000/posts/">All Posts</a></li> <li><a href="http://localhost:4000/tags/">All Tags</a></li> </ul> </li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn" style="background-color:rgba(255,255,255,0.97);"> <div class="content"> <div class="post-title "> <h1>第九篇 Linux文件与目录管理(下)</h1> <h4>22 Sep 2017</h4> <a class="btn zoombtn" href="http://localhost:4000/posts/"> <i class="fa fa-chevron-left"></i> </a> </div> <p><em>上一篇提到了LInux系统下文件/目录的基本操作,诸如:切换目录,</em></p> <p><em>对于目录/文件的新建,移动,拷贝,删除.</em></p> <p><em>以及对于文件的各种形式的查看</em></p> <p><em>那么这一篇所要谈到的就是,文件/目录的隐藏属性以及文件/目录的查询操作</em></p> <hr /> <h3 id="1文件目录的默认权限和和隐藏权限">1.文件/目录的默认权限和和隐藏权限</h3> <p>进行了之前的了解,你应该已经自己动手创建过文件或者目录了吧?</p> <p>但是你有没有好奇过,每次新建文件/目录,他们的出生权限都是一致的. <img src="http://img.blog.csdn.net/20170617190716652?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvRV92aWxjcm93/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" /> 如上图所示,新建test1,test2,他们的权限都是664</p> <p>这就要牵扯到文件/目录的<strong>默认权限</strong>与<strong>隐藏权限</strong>了</p> <hr /> <h4 id="11-文件默认权限umask">1.1 文件默认权限:umask</h4> <p><strong>默认权限:当前用户在新建文件/目录时,文件/目录的默认权限</strong></p> <p>使用umask命令即可查看当前默认权限</p> <p><code class="highlighter-rouge">[Evilcrow@Evilcrow]$ umask</code></p> <p>或者</p> <p><code class="highlighter-rouge">[Evilcrow@Evilcrow]$ umask -S</code></p> <p>上图中的0002即为当前的默认权限</p> <p>看见这个0002你是不是也是一脸懵比?,没错,一开始我和你也差不多.</p> <p>对于0002默认权限的理解:</p> <p>首先需要明确的是,在新建文件/目录时,对于文件/目录的权限分配:</p> <blockquote> <p>对于文件,默认是没有X,可执行权限的,因为不确定文件是否可以执行</p> </blockquote> <blockquote> <p>即文件 -rw-rw-rw-,所以文件权限默认最大666</p> </blockquote> <blockquote> <p>对于目录,默认是权限全开,即目录 drwxrwxrwx,所以目录的默认权限最大为777</p> </blockquote> <p>接下来,再来理解umask,默认权限的数字0002,其中后三位,分别为user,group.others的rwx权限</p> <p><strong>所谓”默认权限”的意思是:在最大权限上减去默认的权限,即为目前的默认权限</strong></p> <p>举个例子:umask 0002</p> <p>对于文件:<strong>-rw-rw-rw-减去 ——–w-,则文件的默认权限为-rw-rw-r–,即664</strong></p> <p>对于目录:<strong>-rwxrwxrwx减去 ——–w-,则目录的默认权限为-rwxrwxr-x,即775</strong></p> <p>到这里,你就了解了umask以及它与默认权限的关系了吧!</p> <p>既然默认权限影响着我们进行工作配置时的快捷与否,那么该如何进行默认权限的修改呢?</p> <p><code class="highlighter-rouge">[Evilcrow@Evilcrow]$ umask number</code></p> <p>在<strong>umask+数字</strong>即可修改默认权限.</p> <p><strong>注:在未进行修改的时候,root用户的默认权限是022,一般用户的默认权限是002</strong></p> <hr /> <h4 id="12-文件的隐藏属性-lsattrchattr命令">1.2 文件的隐藏属性 lsattr,chattr命令</h4> <p>在之前的内容中,你可能也曾注意到,文件的权限中有10个字符,9个为rwx权限,</p> <p>那么剩下的一个是什么呢?</p> <p><strong>剩下的一个,即为”隐藏属性”</strong></p> <p>隐藏属性,可以称之为文件的高级属性,隐藏属性有很多,其中有几个最常用的</p> <h5 id="chattr-命令">chattr 命令</h5> <p><strong>chattr 用来进行隐藏属性的更改(change attr)</strong></p> <p><code class="highlighter-rouge">[Evilcrow@Evilcrow]$ chattr [-+=] [ASacdisu] 文件/目录</code></p> <p>chattr命令,也类似于chmod,使用-+=来赋予文件/目录以隐藏属性</p> <blockquote> <p>-A 访问文件时,atime不会发生改变(access time),可以避免过度访问磁盘,保护磁盘</p> </blockquote> <blockquote> <p>-S 一般文件是”异步”写入磁盘的,关机前才会有sync命令,使数据写入磁盘,-S可以”同步”写入磁盘</p> </blockquote> <blockquote> <p>-a (重要)设置此权限后,文件只能增加数据,不能修改数据,也不能删除数据,只有root才有此权限</p> </blockquote> <blockquote> <p>-c 此参数使得文件存储时自动压缩,读取时自动解压,方便存储大文件</p> </blockquote> <blockquote> <p>-d dump程序运行时,不会使文件被dump程序备份</p> </blockquote> <blockquote> <p>-i (重要),-i可以使文件”不能被改名,删除,设置连接也无法写入或者添加数据”只有root有此权限</p> </blockquote> <blockquote> <p>-s 设置s属性,当文件被删除时,完全被删除,并不会进行备份,(相当于shift+del)</p> </blockquote> <blockquote> <p>-u 与-s相反,删除文件后并没有被完全删除,可以通过一定方法找回数据</p> </blockquote> <p>以上即为chattr可以修改的隐藏属性,也是文件的所有隐藏属性</p> <p><strong>注:其中的-a,-i参数十分重要,对系统的安全也有极大的保护,但只有root才有此权限</strong></p> <p>chattr用来修改文件属性,那么修改后的文件属性如何查看?</p> <p><strong>使用lsattr命令</strong></p> <p><code class="highlighter-rouge">[Evilcrow@Evilcrow]$ lsattr [-adR] 文件/目录</code></p> <blockquote> <p>-a 将隐藏的文件属性也全部显示出来</p> </blockquote> <blockquote> <p>-d 如果接的是目录,则不显示其中的文件,而只是目录本身的隐藏属性</p> </blockquote> <blockquote> <p>-R 连同目录下的子文件隐藏属性也全部显示出来</p> </blockquote> <p>使用chattr命令修改隐藏属性,lsattr命令查看隐藏属性,系统管理效率事半功倍</p> <hr /> <h4 id="13-文件的特殊权限-suidsgidsbit">1.3 文件的特殊权限: SUID,SGID,SBIT</h4> <p>当时现在umask查看默认权限的时候,你可能看到有四个数字,既然后面的是u,g,o的rwx权限</p> <p>那么,第一个是什么呢? 就是文件的特殊权限</p> <p>之前在目录树中也有几个特殊的目录,仔细观察 <img src="http://img.blog.csdn.net/20170617191118232?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvRV92aWxjcm93/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" /> <img src="http://img.blog.csdn.net/20170617190835263?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvRV92aWxjcm93/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" /> 上图中passwd的权限为-rwsr-xr-x,这个S即为”特殊权限”</p> <p>我们来考虑一个问题,如果对于某一类文件,他的权限属于root用户</p> <p>权限为”-r——–”</p> <p>但是一般用户又必须具有W的权限才能进行文件操作,</p> <p>这个时候特殊的文件权限就派上用场了</p> <p>有这种例子吗?</p> <p><strong>最常用的: 密码</strong></p> <p>一般用户明明不具有密码文件的W”写”权限,但是它却可以修改自己的密码,这就是特殊权限</p> <p><strong>实质上,特殊权限,相当于对于非权限内用户,特殊的执行权</strong></p> <p>特殊权限有三种:SUID,SGID,SBIT</p> <hr /> <h4 id="suid-特殊权限">SUID 特殊权限</h4> <p><strong>当s出现在user上时,称为Set UID,即SUID</strong></p> <blockquote> <p>SUID权限仅对二进制程序有效,(即对shell script无效)</p> </blockquote> <blockquote> <p>执行者对于此程序有X权限</p> </blockquote> <blockquote> <p>这个特殊的执行权限仅仅在执行过程中生效</p> </blockquote> <blockquote> <p>执行者将具有程序拥有者的权限</p> </blockquote> <p>上面的话很生硬对吗?</p> <p>我用自己的话帮大家总结:</p> <p><strong>权限外用户,(对此文件有x权限),在执行程序期间,获得程序所有者权限,仅对二进制程序生效</strong></p> <p>举个实际的例子:</p> <p><strong>密码文件属于root,但是一般用户在使用期间,却可以获得密码文件的使用权,以及修改权(仅限自己的)</strong></p> <hr /> <h4 id="sgid-特殊权限">SGID 特殊权限</h4> <p><strong>当s出现在group中时,称为 Set GID,即SGID</strong></p> <p>如上图</p> <p><strong>SGID不同于SUID权限,SGID可以使用在目录和文件上,但是SUID只能使用在二进制程序上</strong></p> <p>对于文件而言:</p> <blockquote> <p>SGID对二进制程序有效</p> </blockquote> <blockquote> <p>程序执行者对文件需要具有x权限</p> </blockquote> <blockquote> <p>执行者在执行过程中将获得用户组的支持</p> </blockquote> <p>对于目录而言:</p> <blockquote> <p>用户需要对于该目录具有r与x权限,才能进入该目录</p> </blockquote> <blockquote> <p>用户在此目录下的有效用户组,将会变成该目录的用户组</p> </blockquote> <blockquote> <p>若用户对于改目录具有w”写”权限,那么新建的文件用户组与目录的用户组相同,而非用户的用户组</p> </blockquote> <p>对于SGID在目录上的应用,我总结一下:</p> <p><strong>当权限外用户,具有r,x权限(对目录)后,可获得目录用户组的支持,而且,W权限的操作,为目录用户组所为</strong></p> <p><strong>SGID这个特殊权限对于文件的作用不谈,但是对于目录的特殊权限太重要了</strong></p> <p><strong>尤其是在,进行项目目录的构建时,设置SGID权限,则项目成员所完成的项目文件同属一个用户组,方便管理</strong></p> <hr /> <h4 id="sbit-特殊权限">SBIT 特殊权限</h4> <p><strong>这个权限目前只对目录有效,当”t”出现在others中时,即为SBIT</strong></p> <blockquote> <p>当用户对此目录具有w,x权限时,该用户便具有了写入的权限</p> </blockquote> <blockquote> <p>当用户在该目录下创建文件或者目录时,只有自己和root用户才有权限进行删除操作</p> </blockquote> <p>那么，SBIT特殊权限意义何在呢？</p> <p><strong>同上理，在进行项目组的开发时，同一用户组的成员进行协作，在同一目录下进行工作</strong></p> <p><strong>任何用户都可以再次目录里进行新建和修改文件，但是只有文件创建者和root才有权限进行删除</strong></p> <p><strong>这样，是不是很方便呢？</strong></p> <h5 id="特殊权限的修改">特殊权限的修改</h5> <p>看过上面的内容,你应该了解特殊权限的巨大作用了吧?</p> <p>那么,特殊权限如何修改</p> <p><code class="highlighter-rouge">[Evilcrow@Evilcrow]$ chmod abcd 文件</code> abcd为文件权限的权值</p> <p>之前的权限修改是 chmod+xyz,那么现在再加上一个数字用于特殊权限的修改不就好了</p> <p>权值: SUID–4 , SGID–2 , SBIT–1 <img src="http://img.blog.csdn.net/20170617190947715?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvRV92aWxjcm93/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" /> 如上图所示,给目录添加了SBIT权限,SUID,SGID权限的修改同理</p> <p><strong>有没有发现,第一次修改后,test目录的SBIT权限为”T”?</strong></p> <blockquote> <p>这是因为,test的权限为1644,它没有可执行权限x,当修改特殊权限SBIT时,</p> </blockquote> <blockquote> <p>没有可执行权限,t也就不复存在了,所以”T”含义是”空”</p> </blockquote> <blockquote> <p>SUID,SGID中的”S”同理,表示空</p> </blockquote> <p>当然进行特殊权限的修改时,也可以使用符号</p> <p><code class="highlighter-rouge">[Evilcrow@Evilcrow]$ chmod u+s/g+s/o+t 文件</code></p> <hr /> <h4 id="查看文件类型">查看文件类型</h4> <p>对于一个文件,我们可以使用<code class="highlighter-rouge">ls -l 文件</code>来显示他的所有属性</p> <p>但是,如果只是要知道文件类型,使用file命令更方便呢!</p> <p><code class="highlighter-rouge">[EVilcrow@Evilcrow]$ file 文件/目录</code></p> <p><img src="http://img.blog.csdn.net/20170617191046282?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvRV92aWxjcm93/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="" /> 如上图所示,file命令可以清楚的知道每一个文件/目录的类型</p> <h3 id="2-命令与目录的查询">2. 命令与目录的查询</h3> <p><em>前面提到的都是文件/目录的操作,查阅,修改权限.你首先要能做到的是查阅文件</em></p> <h4 id="21-脚本文件明的查询">2.1 脚本文件明的查询</h4> <h4 id="which-命令">which 命令</h4> <p>用于查找脚本文件(简单来讲,查找名令)</p> <p><code class="highlighter-rouge">[Evilcrow@evilcrow]$ which [-a] command</code></p> <p>which用于查找命令所在目录位置,当然这就扯到之前的PATH,which是在PATH中查找命令</p> <p>所以有时候需要进行更新内容才能显示出来,</p> <blockquote> <p>-a ,次参数,可以将command在PATH中的所有路径显示出来,并非只是最先找到路径</p> </blockquote> <p><strong>注:既然说了是在PATH中寻找路径,那么,不再路径中的目录肯定就是找不到的了!</strong></p> <p><strong>别惊讶,这样的command可是不少的呢!</strong></p> <hr /> <h4 id="whereis与locate-命令">whereis与locate 命令</h4> <p>上面的which是脚本命令的查找,那么接下来就是文件的查找了</p> <p>进行文件的查找,所需要的命令是whereis与locate命令</p> <p><code class="highlighter-rouge">[Evilcrow@Evilcrow]$ whereis [-bmsu] 文件/目录名</code></p> <blockquote> <p>-b 表示仅查找二进制的文件</p> </blockquote> <blockquote> <p>-m 仅查找再说明文件manual下的文件</p> </blockquote> <blockquote> <p>-s 仅查找source源文件</p> </blockquote> <blockquote> <p>-u 查找其他类型的文件</p> </blockquote> <p><code class="highlighter-rouge">[Eilcrow@Evilcrow]$ locate [-ir] keyword</code></p> <blockquote> <p>-i 忽略大小写的差异</p> </blockquote> <blockquote> <p>-r后面可接正则表达式的形式</p> </blockquote> <p>以上即为whereis与locate的用法</p> <p><strong>但是,请注意,whereis与locate查找的依据是各自的数据库!!!</strong></p> <p><strong>意即,有时你会查找到删除了的文件,有时也会查找不到新建的文件,这就</strong></p> <p><strong>需要更新数据库了 updatedb</strong></p> <p><code class="highlighter-rouge">updatedb</code>:根据/etc/updatedb.conf的设置进行数据库内容的更新</p> <p><code class="highlighter-rouge">locate</code>:依据/var/lib/mlocate内的数据记载,找出用户输入的关键字文件名</p> <p><strong>让我来理解,即wheris与locate的搜索很快,但是需要更新数据库</strong></p> <p>接下来,介绍find命令,</p> <hr /> <h4 id="find-命令">find 命令</h4> <p>上面说的whereis与locate命令并非是在硬盘中查找数据,而是在各自得数据库中查找</p> <p><strong>然而,find命令,就是在硬盘中进行文件查找的命令</strong></p> <p><code class="highlighter-rouge">[Evilcrow@Evilcrow]$ find [PATH] [option] 文件/目录名</code> find命令</p> <p>这里为什么不再格式里写上find命令的参数呢?</p> <p><strong>因为find,功能强大,它的参数太多了 !</strong></p> <blockquote> <p>1.与时间有关的参数(atime,stime,mtime),下面以mtime进行说明</p> </blockquote> <blockquote> <p>-mtime n:n为数字,表示在n天之前的那个”一天之内”所修改过时间的文件名</p> </blockquote> <blockquote> <p>-mtime -n:列出n天之内(包括n天在内),修改过文件时间的文件名</p> </blockquote> <blockquote> <p>-mtime +n:列出n天以上(不含n天在内),修改过文件时间按的文件名</p> </blockquote> <p><strong>注:n = 0表示目前的时间</strong></p> <p><strong>其中,请切身体会,n,+n,-n三种不同时间限定所带来的文件搜索不同,</strong></p> <p><strong>并且,时间搜索,还有atime与stime,同mtime理</strong></p> <blockquote> <p>2.与用户和用户组有关的参数</p> </blockquote> <blockquote> <p>-uid n: 第四章详解</p> </blockquote> <blockquote> <p>-gid n: 同上</p> </blockquote> <blockquote> <p>-user name: 搜索特定目录下,name用户的文件</p> </blockquote> <blockquote> <p>-group name: 搜索特定目录下,name用户的文件</p> </blockquote> <blockquote> <p>-nouser :寻找文件的所有者不在,系统文件中记录的内容</p> </blockquote> <blockquote> <p>-nogroup :同上(用户组)</p> </blockquote> <p><strong>最后的两个参数很适合去查找一些不太正常的文件或者目录出来</strong></p> <blockquote> <p>3.与权限有关的参数</p> </blockquote> <blockquote> <p>-name filename :按照文件名查找文件</p> </blockquote> <blockquote> <p>-size [+-] SIZE:查找比SIZE大(+)小(-)的文件,SIZE的单位有,B,K</p> </blockquote> <blockquote> <p>-type TYPE :查找文件类型为TYPE的文件,-,d,l,s,p等</p> </blockquote> <blockquote> <p>-perm mode:查找文件权限恰好为mode的文件</p> </blockquote> <blockquote> <p>-perm -mode:”查找文件权限比需要全部包含mode的文件”</p> </blockquote> <blockquote> <p>例如:-perm -755,则777符合条件</p> </blockquote> <blockquote> <p>-perm +mode:”查找文件权限包含任一mode权限的文件”</p> </blockquote> <blockquote> <p>例如:perm +755,则701也符合要求</p> </blockquote> <p><strong>事前谈到过的,特殊权限SUID,SGID,SBIT,同样也是可以用在这里的,比如:4755</strong></p> <blockquote> <p>4.一些特别的参数:</p> </blockquote> <blockquote> <p>-exec command: command为其他的命令,-exec,接其他的命令用来处理查找的结果</p> </blockquote> <blockquote> <p>-print ：将处理的结果打印到屏幕上</p> </blockquote> <p>举个例子：</p> <p><code class="highlighter-rouge">[Evilcrow@Evilcrow]$ find / -perm +7000 -exec ls -l { } \;</code>则</p> <p>这条命令表示在根目录下查找权限含任一7000的文件，并将它的文件信息ls -l显示出来</p> <p><strong>上例中，{}表示查找到的内容，－exec一直到＼都是关键字，在其中间的就是额外命令</strong></p> <p><strong>而且，重要的是，可以使用通配符进行查找操作，十分方便，同时，多重参数互相组合，更方便</strong></p> <p><strong>最后一点，不到最后时刻，find命令真的很费时，因为它是直接在硬盘中进行搜索</strong> _ _ _</p> <h3 id="3权限与命令间的关系">3.权限与命令间的关系</h3> <p><em>此处的内容十分关键，请认真对待</em></p> <blockquote> <p>使用户拥有进入目录的权限，使用CD命令</p> </blockquote> <p><strong>至少需要对该目录有ｘ权限，如果需要读取目录中的文件，则必须要有ｒ的权限</strong></p> <blockquote> <p>使用户具有在目录内读取文件的权限，可使用cat,more,less命令</p> </blockquote> <p><strong>如果是读取目录，至少需要ｘ权限，对于文件，需要ｒ权限</strong></p> <blockquote> <p>使用户具有修改一个文件的权限vi,vim,nano,emacs</p> </blockquote> <p><strong>如果是目录，需要ｘ权限，如果是文件，至少需要ｒ，ｗ权限</strong></p> <blockquote> <p>使用户具有创建文件的权限，如mkdir,touch</p> </blockquote> <p><strong>对于目录需要有ｗ，ｘ权限，重要的是ｗ权限，因为没有ｘ权限，无法进入目录</strong></p> <blockquote> <p>使用户具有进入一个目录并执行目录下文件的权限</p> </blockquote> <p><strong>对目录，至少要有ｘ权限，对于文件至少要有ｘ权限，已知文件名的情况下，可以没有ｒ（目录）权限</strong></p> <p><strong>以后内容十分重要，需认真进行分析理解</strong></p> <hr /> <p><em>这一篇的内容也到此为止了，到现在Linux系统中的文件/目录从配置到操作，到分析查阅就结束了</em></p> <p><em>从下一篇开始，就是磁盘与文件系统的管理了，下次再见　！</em></p> <p>06/17/2017</p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://localhost:4000/tags/#vbird" title="Pages tagged vbird" class="tag"><span class="term">vbird</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/linux-directory-managment/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/linux-directory-managment/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://localhost:4000/linux-directory-managment/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> </header> <!-- JS --> <script src="http://localhost:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.goup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://localhost:4000/assets/js/scripts.js"></script> <script type="text/javascript"> var disqus_shortname = 'Evilcrow'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
