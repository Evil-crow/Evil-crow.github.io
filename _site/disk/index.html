<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/github.min.css"> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script> <script>hljs.initHighlightingOnLoad();</script> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>第三篇 磁盘分区问题 &#8211; Road to Coding</title> <meta name="description" content="只要那一抹笑容尚存, 我便心无旁骛"> <meta name="keywords" content="vbird"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://localhost:4000/assets/img/logo.png"> <meta name="twitter:title" content="第三篇 磁盘分区问题"> <meta name="twitter:description" content="本章的主要内容是关于磁盘分区的硬件知识，其中涉及了许多我在自己进行装机时所遇到的问题有兴趣的朋友，可以去看看我之前那篇装系统的博客"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="第三篇 磁盘分区问题"> <meta property="og:description" content="本章的主要内容是关于磁盘分区的硬件知识，其中涉及了许多我在自己进行装机时所遇到的问题有兴趣的朋友，可以去看看我之前那篇装系统的博客"> <meta property="og:url" content="http://localhost:4000/disk/"> <meta property="og:site_name" content="Road to Coding"> <meta property="og:image" content="http://localhost:4000/assets/img/logo.png"> <link rel="canonical" href="http://localhost:4000/disk/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Road to Coding Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://localhost:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(http://localhost:4000/assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://localhost:4000/assets/img/logo.png" alt="Road to Coding photo" class="author-photo"> <h4>Road to Coding</h4> <p>只要那一抹笑容尚存, 我便心无旁骛</p> </li> <li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:evilcrow486@gmail.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://github.com/Evil-crow" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://localhost:4000/posts/">All Posts</a></li> <li><a href="http://localhost:4000/tags/">All Tags</a></li> </ul> </li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn" style="background-color:rgba(255,255,255,0.97);"> <div class="content"> <div class="post-title "> <h1>第三篇 磁盘分区问题</h1> <h4>22 Sep 2017</h4> <a class="btn zoombtn" href="http://localhost:4000/posts/"> <i class="fa fa-chevron-left"></i> </a> </div> <p><em>本章的主要内容是关于磁盘分区的硬件知识，其中涉及了许多我在自己进行装机时所遇到的问题</em></p> <p><em>有兴趣的朋友，可以去看看我之前那篇装系统的博客，<a href="http://blog.csdn.net/e_vilcrow/article/details/72620481">传送门</a></em></p> <p><strong>强调一个很重要的观念：在Linux系统中，一切皆文件，包括硬件设备也是文件</strong></p> <p>举个栗子：</p> <p>IDE硬盘 /dev/ha[a-d]</p> <p>SATA硬盘 /dev/sa[a-p]</p> <p>U盘 /sdv/sa[a-p]</p> <p><strong>一切的设备，文件，只要是计算机的内容都被系统视为文件！</strong></p> <p>磁盘分区的问题：</p> <p>磁盘的连接方式与设备文件名关系：</p> <p>比如有两个IDE接口，则应名为 hda,hdb,又因为存在主设备与从设备，即(Master)(Slave)，如下表：</p> <table> <thead> <tr> <th>IDE</th> <th>Master</th> <th>Slave</th> </tr> </thead> <tbody> <tr> <td>IDE1</td> <td>/dev/hda</td> <td>/dev/hdb</td> </tr> <tr> <td>IDE2</td> <td>/dev/hdc</td> <td>/dev/hdd</td> </tr> </tbody> </table> <p>从上表即可看出规律：首先对于设备优先命名，主设备在前，从设备在后，之后命名新设备</p> <p>对于SATA接口的硬盘来说，先接先识别的设备先进行命名，例如USB设备，基本都是最后才能进行命名。</p> <ul> <li>磁盘的知识</li> </ul> <p>关于磁盘结构的知识，参考 *<计算机科学导论>* 进行理解。</计算机科学导论></p> <p>每块磁盘，最重要的第一个扇区，记录了两个重要信息：<strong>主引导分区,分区表</strong></p> <p>比如：我的磁盘有两块，一块118GB的SSD，还有一块460GB的机械盘。至于C：D：E：这些都是后来的磁盘分区。</p> <p>主引导分区：MBR 安装引导加载程序的地方，即开机引导程序，我在安装系统时遗漏掉的东西。</p> <p>分区表：存储磁盘分区信息的状态的东西，类似于malloc二维数组时的第一步工作。</p> <p>关于磁盘分区的重要信息：</p> <ol> <li> <p>每次进行所谓“分区”操作时都是对64Byte的分区信息表进行操作。</p> </li> <li> <p>磁盘默认的分区表只能有四组磁盘信息。（硬件问题）</p> </li> <li> <p>四组磁盘分区，只能是主分区 + 扩展分区，且扩展分区最多只能有一个（操作系统的原因）</p> </li> </ol> <p>即，可以是P+P+P+P（这样做，要是不把空间用完，则会造成空间浪费）,P+P+P+E的形式。</p> <ol> <li>分区的最小单位是柱面。</li> </ol> <p>使用磁盘分区表的必要性：</p> <ol> <li> <p>处于安全性能的考虑</p> </li> <li> <p>对系统性能的考虑。</p> </li> </ol> <hr /> <p><strong>新概念：逻辑分区</strong></p> <p>那么，要是四个分区不够用，别人还有10几个分区是怎么做到的呢？</p> <p>牵扯到逻辑分区的概念。</p> <p>对扩展分区，进行再分区，即为扩展分区</p> <p>对于IDE 硬盘可分到59号，SATA只能分到11号</p> <p><strong>而且，关键是,逻辑分区是基于扩展分区所分出来的，所以/dev/sd[?]的编号从5号开始</strong></p> <p>而且，主分区与逻辑分区可以格式化，扩展分区无法格式化。对于同为主分区，或同为逻辑分区可以合并</p> <p><strong>相对的，对于不同的分区是不能进行合并分区的！</strong></p> <hr /> <ul> <li>介绍开机的流程</li> </ul> <p>所谓开机，那么在还没有操作系统的时候，操作系统这个软件是怎么被识别的呢？</p> <p>牵扯到BIOS与CMOS</p> <p>CMOS中写入的是硬件的参数和嵌入主板上的存储器。</p> <p>而BIOS则是，开机时所执行的第一个程序，会根据用户的设置</p> <p>去寻找所能进行开机的硬盘，并且读取这个硬盘里的MBR程序，即开机引导程序，从而开机</p> <p>而在这个MBR中存储的就是Boot Loader，可以加载内核文件的东西，从而实现开机。</p> <hr /> <p><strong>Linux安装时，对磁盘的分区</strong></p> <p>介绍概念： <strong>1.目录树概念</strong></p> <p>在linux的系统中，有着<strong>“一切皆是文件”</strong>的思想。</p> <p>而在系统中有着目录树的结构，以此来管理着整个系统，</p> <p>其中，举以下例子来描述目录树：</p> <blockquote> <p>/ 根目录，一般存储目录用</p> </blockquote> <blockquote> <p>/home 家目录，一般存储用户数据</p> </blockquote> <blockquote> <p>/usr 一般存储软件</p> </blockquote> <blockquote> <p>/etc 一般存储配置文件</p> </blockquote> <p>就像以上所举的例子一样，目录树结构即可理解为，像树一样的目录，</p> <p>一级一级延续下来。</p> <p>比如文件的路径为：/home/etc/.vimrc即可</p> <p><strong>2.挂载</strong></p> <p>既然上面提到了Linux系统中是抽象为文件，目录树的概念，</p> <p>然而，众所周知，数据是存在磁盘中的，那么这两者是如何联系起来的呢？</p> <p>这就要牵扯到<strong>”挂载“</strong>的概念了。</p> <p>所谓，挂载，意即，进入目录树系统的一个入口，即将某一个目录作为进入口。</p> <p><strong>挂，即是将磁盘挂在某一个目录下。</strong></p> <blockquote> <p>不同于Win系统下，</p> </blockquote> <blockquote> <p>在Linux系统下，磁盘挂载在哪里，其路径即在哪里，而在Win中，无论在哪里，都会有固定的盘符。会有固定的代号，而在Linux下是自由的。</p> </blockquote> <p><strong>寻找挂载点方法：反向追踪，寻找最早出现的目录，即为此磁盘的挂载点。</strong></p> <p>了解了以上两个概念后，就来谈谈怎么进行磁盘分区了。</p> <p>对于，初次安装的同学建议是，<strong>只分出/，/home即可。</strong></p> <p>其他的分区，暂不建议接触，出现差错，则会导致安装失败。</p> <blockquote> <p>/usr 应用程序存放的地方，万一分配不足，就GG</p> </blockquote> <blockquote> <p>/boot 引导加载程序的地方</p> </blockquote> <blockquote> <p>swap 交换空间（物理内存中不常用的数据，会分配到硬盘内存中）</p> </blockquote> <p>之后的内容为：鸟哥进行服务器主机构建的内容，暂且不表。</p> <p>June 3, 2017 3:32 AM</p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://localhost:4000/tags/#vbird" title="Pages tagged vbird" class="tag"><span class="term">vbird</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/disk/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/disk/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://localhost:4000/disk/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> </header> <!-- JS --> <script src="http://localhost:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.goup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://localhost:4000/assets/js/scripts.js"></script> <script type="text/javascript"> var disqus_shortname = 'Evilcrow'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
