<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Crow-Vim的配置以及使用 | Road to Coding</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Crow-Vim的配置以及使用</h1><a id="logo" href="/.">Road to Coding</a><p class="description">只要那一抹笑容尚存，我便心无旁骛。</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Crow-Vim的配置以及使用</h1><div class="post-meta">May 20, 2018<span> | </span><span class="category"><a href="/categories/Vim/">Vim</a></span></div><a class="disqus-comment-count" data-disqus-identifier="2018/05/20/Coding/VimScript/Crow_Vim/" href="/2018/05/20/Coding/VimScript/Crow_Vim/#disqus_thread"></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装"><span class="toc-number">2.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#配置介绍"><span class="toc-number">3.</span> <span class="toc-text">配置介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vundle"><span class="toc-number">3.1.</span> <span class="toc-text">Vundle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NerdTree"><span class="toc-number">3.2.</span> <span class="toc-text">NerdTree</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Tagbar"><span class="toc-number">3.3.</span> <span class="toc-text">Tagbar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conque-GDB"><span class="toc-number">3.4.</span> <span class="toc-text">Conque-GDB</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Conque-shell"><span class="toc-number">3.5.</span> <span class="toc-text">Conque-shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#YouCompleteMe"><span class="toc-number">3.6.</span> <span class="toc-text">YouCompleteMe</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#存在问题及其他建议"><span class="toc-number">4.</span> <span class="toc-text">存在问题及其他建议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#存在问题"><span class="toc-number">4.1.</span> <span class="toc-text">存在问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他建议"><span class="toc-number">4.2.</span> <span class="toc-text">其他建议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#个人一点想法"><span class="toc-number">5.</span> <span class="toc-text">个人一点想法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#福利时间"><span class="toc-number">6.</span> <span class="toc-text">福利时间</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Kernel-Headers"><span class="toc-number">6.1.</span> <span class="toc-text">Kernel-Headers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#YCM-Generator"><span class="toc-number">6.2.</span> <span class="toc-text">YCM-Generator</span></a></li></ol></li></ol></div></div><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><em>其实仔细想想, 现在的情况,IDE已经很好用了, 为什么还要使用Vim呢 ?</em><br><em>在我看来,其实是一方面是Geek风范, 另一方面是喜欢简单, 便捷的应用工具, 正应了UNIX的哲学: KISS</em></p>
<p>关于Vim如何使用的等等, 我们在这里不再详述, 前人之述备矣,</p>
<p>我主要是来介绍一下, Crow-Vim, 相当好用的Vim配置. (<del>好吧, 这其实就是我写的, 自吹自擂</del>).<br>默认读者已经掌握了Vim的基本使用, 以及各种常用的快捷键.<br>(C-w起码得知道是什么吧,同时揶揄一下对面的脚踏板)</p>
<p>此Vim配置, 在编写时, 主要借鉴了: </p>
<blockquote>
<p><a href="https://github.com/chxuan/vimplus" target="_blank" rel="noopener">Vimplus</a>   {补全基于ycm}<br><a href="https://github.com/ma6174/vim-deprecated" target="_blank" rel="noopener">vim-deprecated</a> {补全基于Omicompation}</p>
</blockquote>
<p>上面也都是十分不错的配置, 前者足够丰富, 后者足够实用.<br>(<del>这么一说, 我的配置特色在哪里啊 2333</del>)</p>
<p>不过, 虽然是个VegeCoder, 心里还是想用起来自己的配置.<br>于是在之前学习过VimScript之后, 进行了Crow-Vim的编写 (<del>叫开发都是夸大了说的…</del>)</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/Evil-crow/Crow-Vim</span><br><span class="line">$ <span class="built_in">cd</span> Crow-Vim</span><br><span class="line">$ ./install.sh</span><br></pre></td></tr></table></figure>
<p>其实只需要上面三步就足够了.</p>
<p>注: </p>
<ol>
<li><p>因为涉及插件也不少,其中比较关键的是: Vim version &gt;= 7.4<br>(<em>是的, 因此,我给xm配置的时候, 重新编译安装了Vim, 即是说: CentOS, 都得重新编译Vim</em><br><em>有的时候, 选一个活跃的发行版本还是不错的, “稳定的”也不一定好)</em></p>
</li>
<li><p>Emmm,其实上面这三步, 只要你是比较新的发行版, (Ubuntu &gt; 14, Fedora &gt; 22为例),基本安装应该是没问题的. 目前Fedora, Ubuntu, Arch, CentOS(在重新编译安装Vim后)已经成功通过安装脚本的测试. 如果仍然有问题出现, 请提出issue, 或者gmail发邮件给我,皆可.</p>
</li>
</ol>
<h2 id="配置介绍"><a href="#配置介绍" class="headerlink" title="配置介绍"></a>配置介绍</h2><p>在写配置之前, 我也见过混乱如斯的配置, 所以进行了分块配置.<br>主要有下面几个模块的配置:</p>
<ol>
<li>General Setting 涉及: 文件类型检测, 语法高亮, 历史行数等内容</li>
<li>Display Setting 涉及: 缩进字符数(后面有其他办法), 高亮当前行/列, 以及相当重要的<code>smarttab</code></li>
<li>Mapping Setting 涉及: Esc, 0, $, &gt;, &lt; 等等几个快捷键的非递归映射</li>
<li>Indent Setting  涉及: 缩进格式 (不过被后面的插件替代掉了)</li>
<li>Autocmd Setting 涉及: Vim的自动命令内容, 自行根据文件类型来进行设置缩进格式</li>
<li>NewFile Setting 涉及: 这个是模仿别人的函数, 根据文件类型, 生成新文件模板(好多文件后面没用过)</li>
<li>Vundle Setting 涉及: 神级插件: Vundle的配置 (这是用来管理其他插件的插件)</li>
<li>7的扩展部分, 各个插件的配置内容</li>
</ol>
<p>我们涉及到的插件,主要有下面这些:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Plugin &apos;VundleVim/Vundle.vim&apos;                 &quot; 插件管理器</span><br><span class="line">Plugin &apos;scrooloose/nerdtree&apos;                  &quot; 文件目录树</span><br><span class="line">Plugin &apos;majutsushi/tagbar&apos;                    &quot; Taglist的后继者</span><br><span class="line">Plugin &apos;vim-airline/vim-airline&apos;              &quot; 美化的状态栏</span><br><span class="line">Plugin &apos;vim-airline/vim-airline-themes&apos;       &quot; airline基础上的主题</span><br><span class="line">Plugin &apos;scrooloose/nerdcommenter&apos;             &quot; </span><br><span class="line">Plugin &apos;jiangmiao/auto-pairs&apos;                 &quot; 自动补全括号</span><br><span class="line">Plugin &apos;Valloric/YouCompleteMe&apos;               &quot; 神级补全插件</span><br><span class="line">Plugin &apos;SirVer/ultisnips&apos;                     &quot; 代码片段, 不过被ycm摁死了</span><br><span class="line">Plugin &apos;Yggdroot/indentLine&apos;                  &quot; 缩进会显示标记</span><br><span class="line">Plugin &apos;vim-scripts/Conque-GDB&apos;               &quot; 超好用的cgdb (官方插件)</span><br><span class="line">Plugin &apos;vim-scripts/Conque-Shell&apos;             &quot; 超好用的集成终端 (官方插件)</span><br></pre></td></tr></table></figure>
<p>下面的配置方法, 主要涉及插件配置, 对于其他Vim配置, 有比较详细的注释.(可以根据需求修改)</p>
<h3 id="Vundle"><a href="#Vundle" class="headerlink" title="Vundle"></a>Vundle</h3><p>插件github仓库 <a href="https://www.github.com/VundleVim/Vundle.vim" target="_blank" rel="noopener">Vundle</a><br>我们只要将插件的地址, 穿插在<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">call vundle#begin()</span><br><span class="line">...</span><br><span class="line">call vundle#end()</span><br></pre></td></tr></table></figure></p>
<p>之间即可.<br>我们可以在Vim的Command-Line模式中, 使用<br><code>:BundleInstall</code>, <code>:BundleList</code>, <code>:BundleUpdate</code>, <code>:BundleClean</code>等命令<br>即可完成插件的安装, 列出, 更新, 删除各种操作</p>
<h3 id="NerdTree"><a href="#NerdTree" class="headerlink" title="NerdTree"></a>NerdTree</h3><p>这是个描述文件结构的插件, 描述起来也比较麻烦, 一张图描述吧<br><img src="http://phxjezimr.bkt.clouddn.com/NerdTree.png" alt="NerdTree"><br>左边的结构即为, NerdTree, 可能不用我说, 你都明白什么意思了吧<br>在.vimrc中, 我将此功能映射到了&lt; F2 &gt;上</p>
<h3 id="Tagbar"><a href="#Tagbar" class="headerlink" title="Tagbar"></a>Tagbar</h3><p>可能很多人挺说到过Taglist, 也是个神级插件.不过它存在一些问题, 比如查找速度慢什么的<br>Tagbar进行了性能优化, Tagbar可以进行本文件内中的标识, 符号索引, 还是来看一张图吧<br><img src="http://phxjezimr.bkt.clouddn.com/TagBar.png" alt="Tagbar"><br>在.vimrc中, 我将此功能映射到了&lt; F4 &gt;上</p>
<h3 id="Conque-GDB"><a href="#Conque-GDB" class="headerlink" title="Conque-GDB"></a>Conque-GDB</h3><p>还在为GDB和代码分开而烦恼吗 ?<br>还在自己使用Vim的时候, 羡慕别人IDE, 一般看代码, 一边调试吗 ?<br>Conque-GDB就是你的福音</p>
<p>这个算是GDB的前端, 此插件,将此与Vim集成,<br>我们可以在Vim中一边写代码, 一边调试了, 是不是想想就美滋滋<br><img src="http://phxjezimr.bkt.clouddn.com/cgdb.png" alt="Conque-GDB"></p>
<p>具体配置涉及:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&quot;Conque GDB</span><br><span class="line">let g:ConqueGdb_SrcSplit = &apos;above&apos;</span><br><span class="line">let g:ConqueGdb_SaveHistory = 1</span><br><span class="line">let g:ConqueGdb_Leader = &apos;,&apos;               &quot; Leader是Vim支持繁多快捷键的重要原因</span><br><span class="line">let g:ConqueTerm_Color = 1</span><br><span class="line">let g:ConqueTerm_CloseOnEnd = 1            &quot; 在Vim退出时, 关闭CGDB</span><br><span class="line">let g:ConqueTerm_StartMessages = 1         &quot; 打开初始调试信息</span><br><span class="line"></span><br><span class="line">nnoremap &lt;Leader&gt;cgdb :ConqueGdb a.out&lt;cr&gt;&lt;esc&gt;&lt;C-w&gt;&lt;C-w&gt;</span><br><span class="line">nnoremap &lt;silent&gt; &lt;Leader&gt;Y :ConqueGdbCommand y&lt;CR&gt;</span><br><span class="line">nnoremap &lt;silent&gt; &lt;Leader&gt;N :ConqueGdbCommand n&lt;CR&gt;</span><br></pre></td></tr></table></figure></p>
<p>其中记得两件事:</p>
<ol>
<li>cgdb使用前, 一定要编译degub版本</li>
<li>安装 debuginfo glibc-xxxxx.x86_64</li>
</ol>
<p>之后, 们可以这样使用它:</p>
<p><code>&lt;leader&gt;cgdb</code>打开cgdb</p>
<p>之后, 使用 &lt; leader &gt; + b(breakpointer) / r(run) / s(step) / n(next)…<br>进行调试, 当前行会高亮显示, (不过, 我自己的配色是透明, 所以不明显)</p>
<p>解释一下: <code>nnoremap &lt;silent&gt; &lt;Leader&gt;Y :ConqueGdbCommand y&lt;CR&gt;</code><br>这个映射指: 当你在代码中调试的时候, 遇到确认事件的时候, 如何不切回CGDB进行确认 ,使用快捷映射</p>
<p>另外注意:当你的程序一直运行的时候, 需要切入GDB查看结果, 他不会自动刷新的, 单步例外</p>
<h3 id="Conque-shell"><a href="#Conque-shell" class="headerlink" title="Conque-shell"></a>Conque-shell</h3><p>这个是我个人最喜欢的插件 ! ! ! 之二</p>
<p>此前一直羡慕IDE中, 可以在代码页面集成终端,知道有一天遇到了Conque-shell.<br>是的, 说的简单点就是: Vim中的集成终端</p>
<p>同Conque-GDB: 这个东西不会自动刷新,比如你<code>make</code>, <code>dnf</code>的时候<br>不多说, 上图吧!<br><img src="http://phxjezimr.bkt.clouddn.com/cshell.png" alt="Conque-shell"></p>
<p>使用<code>&lt;leader&gt;shell</code>来启动Conqueshell</p>
<h3 id="YouCompleteMe"><a href="#YouCompleteMe" class="headerlink" title="YouCompleteMe"></a>YouCompleteMe</h3><p>其实最开始促使我想自己使用Vim配置的原因便是: 没有性能足够的补全插件<br>是的, 没错 (<del>虽然是为了偷懒</del>, 不过换句话说, 就是为了更高的生产力)</p>
<p>项目主页 <a href="https://www.github.com/Valloric/YouCompleteMe" target="_blank" rel="noopener">YouCompleteMe</a></p>
<p>对于ycm, 它的主页已经有足够详细的描述了.<br>我来说说本地化配置吧.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&quot;YouCompleteMe</span><br><span class="line">let g:ycm_server_python_interpreter=&apos;/usr/bin/python&apos;</span><br><span class="line">let g:ycm_python_binary_path = &apos;/usr/bin/python3&apos;</span><br><span class="line"> </span><br><span class="line">if expand(&quot;%:e&quot;) == &apos;c&apos; </span><br><span class="line">    let g:ycm_global_ycm_extra_conf=&apos;/usr/src/kernels/4.18.18-100.fc27.x86_64/.ycm_extra_conf.py&apos;</span><br><span class="line">endif</span><br><span class="line">if expand(&quot;%:e&quot;) == &apos;cpp&apos;</span><br><span class="line">    let g:ycm_global_ycm_extra_conf=&apos;/usr/src/kernels/4.14.16-300.fc27.x86_64/.ycm_extra_cpp_conf.py&apos;</span><br><span class="line">endif</span><br><span class="line">if expand(&quot;%:e&quot;) == &apos;cc&apos;</span><br><span class="line">    let g:ycm_global_ycm_extra_conf=&apos;/usr/src/kernels/4.14.16-300.fc27.x86_64/.ycm_extra_cpp_conf.py&apos;</span><br><span class="line">endif</span><br><span class="line">if expand(&quot;%:e&quot;) == &apos;hpp&apos;</span><br><span class="line">    let g:ycm_global_ycm_extra_conf=&apos;/usr/src/kernels/4.14.16-300.fc27.x86_64/.ycm_extra_cpp_conf.py&apos;</span><br><span class="line">endif</span><br><span class="line"></span><br><span class="line">&quot; 设置补全索引, (! ! !)</span><br><span class="line">let g:ycm_semantic_triggers =  &#123;</span><br><span class="line">  \   &apos;c&apos; : [&apos;-&gt;&apos;, &apos;.&apos;,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;,&apos;f&apos;,&apos;g&apos;,&apos;h&apos;,&apos;i&apos;,&apos;j&apos;,&apos;k&apos;,&apos;l&apos;,&apos;m&apos;,&apos;n&apos;,&apos;o&apos;,&apos;p&apos;,&apos;q&apos;,&apos;r&apos;,&apos;s&apos;,&apos;t&apos;,&apos;u&apos;,&apos;v&apos;,&apos;w&apos;,&apos;x&apos;,&apos;y&apos;,&apos;z&apos;,&apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;D&apos;,&apos;E&apos;,&apos;F&apos;,&apos;G&apos;,&apos;H&apos;,&apos;I&apos;,&apos;J&apos;,&apos;K&apos;,&apos;L&apos;,&apos;M&apos;,&apos;N&apos;,&apos;O&apos;,&apos;P&apos;,&apos;Q&apos;,&apos;R&apos;,&apos;S&apos;,&apos;T&apos;,&apos;U&apos;,&apos;V&apos;,&apos;W&apos;,&apos;X&apos;,&apos;Y&apos;,&apos;Z&apos;],</span><br><span class="line">  \   &apos;cpp,objcpp&apos; : [&apos;-&gt;&apos;, &apos;.&apos;, &apos;::&apos;,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;,&apos;f&apos;,&apos;g&apos;,&apos;h&apos;,&apos;i&apos;,&apos;j&apos;,&apos;k&apos;,&apos;l&apos;,&apos;m&apos;,&apos;n&apos;,&apos;o&apos;,&apos;p&apos;,&apos;q&apos;,&apos;r&apos;,&apos;s&apos;,&apos;t&apos;,&apos;u&apos;,&apos;v&apos;,&apos;w&apos;,&apos;x&apos;,&apos;y&apos;,&apos;z&apos;,&apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;D&apos;,&apos;E&apos;,&apos;F&apos;,&apos;G&apos;,&apos;H&apos;,&apos;I&apos;,&apos;J&apos;,&apos;K&apos;,&apos;L&apos;,&apos;M&apos;,&apos;N&apos;,&apos;O&apos;,&apos;P&apos;,&apos;Q&apos;,&apos;R&apos;,&apos;S&apos;,&apos;T&apos;,&apos;U&apos;,&apos;V&apos;,&apos;W&apos;,&apos;X&apos;,&apos;Y&apos;,&apos;Z&apos;],</span><br><span class="line">  \   &apos;perl&apos; : [&apos;-&gt;&apos;],</span><br><span class="line">  \   &apos;php&apos; : [&apos;-&gt;&apos;, &apos;::&apos;,&apos; &apos;],</span><br><span class="line">  \   &apos;cs,java,javascript,typescript,d,python,perl6,scala,vb,elixir,go&apos; : [&apos;.&apos;,&apos; &apos;],</span><br><span class="line">  \   &apos;ruby&apos; : [&apos;.&apos;, &apos;::&apos;,&apos; &apos;],</span><br><span class="line">  \   &apos;lua&apos; : [&apos;.&apos;, &apos;:&apos;],</span><br><span class="line">  \   &apos;erlang&apos; : [&apos;:&apos;],</span><br><span class="line">  \ &#125;</span><br><span class="line"></span><br><span class="line">let g:ycm_confirm_extra_conf=0</span><br><span class="line">let g:ycm_collect_identifiers_from_tags_files=1 </span><br><span class="line">let g:ycm_min_num_of_chars_for_completion=2 </span><br><span class="line">let g:ycm_cache_omnifunc=0  </span><br><span class="line">let g:ycm_seed_identifiers_with_syntax=1    </span><br><span class="line">let g:ycm_complete_in_comments = 0</span><br><span class="line">let g:ycm_complete_in_strings = 1</span><br><span class="line">let g:ycm_collect_identifiers_from_comments_and_strings = 0</span><br><span class="line">let g:syntastic_cpp_compiler_options = &apos; -std=c++11 -stdlib=libc++&apos;</span><br></pre></td></tr></table></figure>
<p>其实大概看看就能看懂. 安装的话, <code>install.sh</code> 有细致过程, 可以看看</p>
<p>关于.<code>ycm_global_ycm_extra_conf</code>的配置, 其实人云亦云<br>我简单地说一下:<br>就是在<code>flags = [...]</code>中添加自己的目录<br><img src="http://phxjezimr.bkt.clouddn.com/ycm_conf.png" alt="ycm_extra_conf.py Flags"><br>比如:</p>
<p>然后,在.vimrc中指定配置文件即可</p>
<p>这样你就会获得下面这种程度的补全.<br><img src="http://phxjezimr.bkt.clouddn.com/ycm.png" alt="ycm-complation"><br>而且, ycm是真正意义上的智能补全.</p>
<h2 id="存在问题及其他建议"><a href="#存在问题及其他建议" class="headerlink" title="存在问题及其他建议"></a>存在问题及其他建议</h2><h3 id="存在问题"><a href="#存在问题" class="headerlink" title="存在问题"></a>存在问题</h3><p>虽然是自己写出来的, 不过存在的问题还是要指出来:</p>
<ol>
<li>配色并不是很好看 (虽然是个工具罢了, 不过好看才能激发人的干劲)</li>
<li><code>&lt;leader&gt;</code>的设置, 是个人喜好, 使用者可以根据自己的需求进行修改</li>
<li>ycm/Conque-gdb等等一系列的内容, 其实更主要的还是, 给C/C++配置使用的, 对其他语言并没有补充, 只能依靠Vim自身提供的功能进行使用</li>
<li>其实VimScript写的并不够好看, 仅仅也只是能用, 如果有大牛能够review代码就相当好了 (想想罢了)</li>
<li>待补充</li>
</ol>
<h3 id="其他建议"><a href="#其他建议" class="headerlink" title="其他建议"></a>其他建议</h3><p>因为Vim配置这种东西, 个性化想当强, 所以我个人的建议是: </p>
<ol>
<li>可以多多去给自己映射一些常用的快捷键. 虽然Vim本身提供了丰富的快捷键, 但是, 是真的需要时间适应(<del>即: 反人类</del>)</li>
<li>收拾收拾配色吧, 好看了也可以给我用用, 虽然Molokai我觉得还不错</li>
<li>关于ycm, 对于自定义项目, 需要在项目project根目录下 防止索引文件, 以此来进行索引. 如果到了这一步, 其实有时候, 还是推荐 <del>上IDE吧</del></li>
</ol>
<h2 id="个人一点想法"><a href="#个人一点想法" class="headerlink" title="个人一点想法"></a>个人一点想法</h2><p>做技术, 肯定是效率第一. 挺讨厌什么XX党, YY派, ZZ营什么的. 只要能完成任务,实现需求都是好工具<br>(<del>虽然, 本人diss 脚踏板 以及 窗口32编程</del>)<br>Vim是历史潮流中不能不提及的东西.是一个相当棒的工具.但是, 在繁重插件的堆积下, Vim失去自身简单快捷的特点的时候, 这还能叫Vim吗?<br>这种时候, 和IDE有什么区别, 活生生配成IDE, 但是耦合度很复杂的VIm, 还不如直接使用IDE<br>很多时候, 折腾半天的工具, 还不如其他一步到位的做法 (个人想法, 就这么些吧)</p>
<h2 id="福利时间"><a href="#福利时间" class="headerlink" title="福利时间"></a>福利时间</h2><p>什么, 你竟然看到这里了 ?</p>
<p>那就给你一点点福利吧. 如果你要从事Kernel开发, 却苦于补全, 就让这部分内容来帮你吧　！</p>
<h3 id="Kernel-Headers"><a href="#Kernel-Headers" class="headerlink" title="Kernel-Headers"></a>Kernel-Headers</h3><p>先来说说内核头文件.安装一般有两种方式:</p>
<ol>
<li>在源码根目录下 <code>sudo make headers_install</code> 即可 (但是, 个人机器还是有问题)</li>
<li>使用 <code>/usr/src/kernerl/xxxxxxxxxxx</code> 中的内容, 这是安装到目前系统内核</li>
</ol>
<p>个人推荐, 使用第二条路径. 但是, 如何完成补全? 同时相互依赖怎么解决 ?</p>
<p>注意: 我们下面介绍的方法, <strong>必须是与具体系统相契合的 !</strong>, 一旦内核升级, 建议重新来一遍(图个保险)</p>
<h3 id="YCM-Generator"><a href="#YCM-Generator" class="headerlink" title="YCM-Generator"></a>YCM-Generator</h3><p>这是一个开源工具. <a href="https://github.com/rdnetto/YCM-Generator" target="_blank" rel="noopener">Project index &gt;&gt;&gt;</a></p>
<p>我们这样来使用它<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com/rdnetto/YCM-Generator</span><br><span class="line">$ cd YCM-Generator</span><br><span class="line">$ ./config_gen.py  [project path]</span><br></pre></td></tr></table></figure></p>
<p>对于Linux内核文件, 基本上15s左右时间即可. 会在project dir生成一个隐藏文件 <code>.ycm_extra_conf.py</code><br>之后我们将ycm的索引文件进行配置即可.<br><code>let g:ycm_global_ycm_extra_conf=&#39;/usr/src/kernels/4.18.18-100.fc27.x86_64/.ycm_extra_conf.py&#39;</code></p>
<p>这样, 你的Vim进行内核开发, 就闲的游刃有余了.</p>
<p>来张图感受一下,所以, 懂我意思了吧 ?<br><img src="http://phxjezimr.bkt.clouddn.com/ycm%20module.png" alt="MODULE"><br><img src="http://phxjezimr.bkt.clouddn.com/ycm%20kthread.png" alt="kthread"><br>什么, 你说标准C库头文件呢 ? 想想之前的 <code>&#39;-isystem&#39;, &#39;/usr/include&#39;</code>, OK吧 ?</p>
<p>基本上关于Vim的事, 就暂时了解一个段落了, 虽然以后可能会用IDE, 不过都是工具嘛, 各有各的长处~</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a class="article-share-link" data-url="http://evil-crow.github.io/2018/05/20/Coding/VimScript/Crow_Vim/" data-id="cjouz50wa001lrbnrgy8cphxt" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACs0lEQVR42u3aQW7jMBAEQP//01lgr4423TPkJgFKp0C2JRYDiKMevl7x8fH3eP/76cz7p0/f+Xg7ZndZHXh4eHijoT8d7SDyoT+xk3slY8bDw8O7zUsWg38PKF9Cnq6c3zcZMx4eHt5P4OW/yoe4+RQPDw/vt/CSUjiZlFmBjoeHh/dzePmDOKcmZ2bBx5WsBQ8PDy/mbRpg3/X3f+rv4eHh4ZVd9eSBmxfNyTLQXuGL6+Ph4eFd4G2aTG1w0IYX7ZJQvDHg4eHhLXgtJn/tP7WcJP+Gx+vj4eHhXePNYtO8obUZ6Cz2xcPDw7vHm/2sbfm3AXEegkTtNzw8PLyjvP2jPG/854tHgoymGA8PD+8Cr41Tk2WgLaDz6+fgx3UPDw8P7xqvbTvl0W2+aaAtx6M3Bjw8PLxDvLyJ1UYSs+0Fm5i4mCA8PDy8Q7xZIDsLL5Kp2Wz8wsPDw7vBazddtctGO9D9eD5pgOHh4eEd5bVhRF68tuxkCvIXADw8PLx7vASQF75JVNEGCvkmsE8UeHh4eBd4p4rafNvBfqtB21TDw8PDu8fLH8SznPhUw6wuzfHw8PCO8tpwoQ0L9pMyC0Hw8PDwbvNORah5PNEGHMPNDXh4eHgXeLNGVNvE2gS7mwUJDw8P7x5vtpVqs+RsguDkt3h4eHj3eHlY0H4zD4j3EQYeHh7ed/HymyWhQxtq5BNR7ynDw8PDO8qLHq+jdtemmJ6V71EMgYeHh7fmfZRHHs7uG/9t7BuV1Hh4eHhr3tltTwlsUy5vNhzg4eHhneUli8Hm07ONsTo6wcPDw7vG20Sre8ZmBftibHh4eHjfymsL3ORMDpjdBQ8PD+838vIYN1+EkuIeDw8P7zZv1nxqN2C15Xh+98czeHh4eBd4bQNsPyltKytvnr1mBx4eHl7K+wNi57GGFq3jUwAAAABJRU5ErkJggg==">分享</a><div class="tags"><a href="/tags/VimScript/">VimScript</a></div><div class="post-nav"><a class="pre" href="/2018/05/23/Coding/C/Expert_C_Programming/little_thing_of_C/">&lt;咸鱼书&gt; C中的一些小细节</a><a class="next" href="/2018/05/17/Coding/C/Expert_C_Programming/c_origin/">&lt;咸鱼书&gt; C的本源</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://evil-crow.github.io/2018/05/20/Coding/VimScript/Crow_Vim/';
    this.page.identifier = '2018/05/20/Coding/VimScript/Crow_Vim/';
    this.page.title = 'Crow-Vim的配置以及使用';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//Evilcrow.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//Evilcrow.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://Evilcrow.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Assembly/">Assembly</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Bible/">Bible</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C-C/">C/C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Documents/">Documents</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Guide/">Guide</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Q-A/">Q&A</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ruby/">Ruby</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SQL/">SQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ShellScript/">ShellScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Unix-Linux/">Unix/Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Unix-Linux/Guide/">Guide</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Vim/">Vim</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Binuntils/" style="font-size: 15px;">Binuntils</a> <a href="/tags/CodeStyle/" style="font-size: 15px;">CodeStyle</a> <a href="/tags/EffectiveSTL/" style="font-size: 15px;">EffectiveSTL</a> <a href="/tags/ShellScript/" style="font-size: 15px;">ShellScript</a> <a href="/tags/Ruby/" style="font-size: 15px;">Ruby</a> <a href="/tags/VimScript/" style="font-size: 15px;">VimScript</a> <a href="/tags/CSAPP/" style="font-size: 15px;">CSAPP</a> <a href="/tags/EffectiveC/" style="font-size: 15px;">EffectiveC++</a> <a href="/tags/Assembly/" style="font-size: 15px;">Assembly</a> <a href="/tags/LinuxC/" style="font-size: 15px;">LinuxC</a> <a href="/tags/vbird/" style="font-size: 15px;">vbird</a> <a href="/tags/GDB/" style="font-size: 15px;">GDB</a> <a href="/tags/RegExpression/" style="font-size: 15px;">RegExpression</a> <a href="/tags/Syscall/" style="font-size: 15px;">Syscall</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/Expert-C-Programming/" style="font-size: 15px;">Expert_C_Programming</a> <a href="/tags/CTrapsAndPitfalls/" style="font-size: 15px;">CTrapsAndPitfalls</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/11/08/Coding/EffSTL/containers/"><STL> Containers</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/09/Coding/EffC++/implementations/"><星月夜> Implementations</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/27/Coding/C/Expert_C_Programming/data_mem/"><咸鱼书> 运行时数据结构与内存</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/26/Coding/EffC++/designs_and_declarations/"><星月夜> Designs and Declarations</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/19/Coding/EffC++/resource_management/"><星月夜> Resource Management</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/13/Coding/EffC++/constructors_destructors_and_assignment_operators/"><星月夜> Constructors, Destructors, and Assignment Operators</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/07/Coding/EffC++/accustoming_yourself_to_C++/"><星月夜> Accustoming Yourself to C++</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/08/Guide/GDB/multprocess/">GDB调试系列(一)</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/31/Guide/Fedora_KDE/">Linux的常用配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/28/Question_Answer/C/two_level_array/">一个C语言指针的问题让我翻车</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//Evilcrow.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Road to Coding.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>